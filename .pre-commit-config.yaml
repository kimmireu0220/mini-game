# 커밋 전 자동 실행: 에러·린트·import 검사 (전부 실행, 스킵 없음)
# 설치: pre-commit install  (venv 활성화 후 권장)
# 수동 실행: pre-commit run --all-files
repos:
  - repo: local
    hooks:
      - id: check-before-commit
        name: 에러·린트·import 검사
        # venv가 있으면 venv Python 사용 (ruff, requests 등 설치된 환경)
        entry: bash -c 'if [ -x .venv/bin/python ]; then .venv/bin/python scripts/check_before_commit.py; else python scripts/check_before_commit.py; fi'
        language: system
        always_run: true
        pass_filenames: false
